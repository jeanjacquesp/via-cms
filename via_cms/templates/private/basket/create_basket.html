{% extends "layout.html" %}
{% block page_title %}{{ _('New Basket Entry')}}{% endblock %}
{% block css %}
    <style type="text/css">
        ul.fancytree-container {
            width: auto;
            min-width: 20rem;
            height: 20rem;
            min-height: 1.75rem;
            max-height: 40rem;
            overflow: auto;
            position: relative;
            resize: both;
        }

        .fixed-size {
            width: 400px;
            height: 250px;
            overflow: auto;
            position: relative;
        }

        ::placeholder { /* Most modern browsers support this now. */
            color: #bbb !important;
            font-style: italic;
            opacity: 1;
        }
    </style>
{% endblock %}
{% block content %}
    <div class="container">
        <div class="text-center">
            <h1>Publish new Price Basket</h1>
        </div>
        <div class="jumbotron" style="padding: 1.5rem;">
            <form action="" method="post" class="form" enctype="multipart/form-data" role="form"
                  id="form_basket">
                {{ form_basket.hidden_tag() }}
                <div class="form-group shadow-textarea">
                    {{ form_basket.subject.label(class_="control-label font-weight-bold") }}
                    {{ form_basket.subject(class_="form-control") }}
                </div>
                {#                <div class="form-group shadow-textarea">#}
                {#                    {{ form_basket.currency.label(class_="control-label font-weight-bold") }}#}
                {#                    {{ form_basket.currency(class_="form-control") }}#}
                {#                </div>#}
                <div class="form-group">
                    {{ form_basket.label_ar.label(class_="control-label font-weight-bold") }}<span
                        class='textcounter' id="counter1"></span>
                    {{ form_basket.label_ar(data_textcounterid="counter1", maxLength=form_basket.label_ar.validators[1].max, class_="form-control") }}
                </div>
                <div class="form-group">
                    {{ form_basket.label_en.label(class_="control-label font-weight-bold") }}<span
                        class='textcounter' id="counter2"></span>
                    {{ form_basket.label_en(data_textcounterid="counter2", maxLength=form_basket.label_en.validators[1].max, class_="form-control") }}
                </div>
                <div class="form-group shadow-textarea">
                    {{ form_basket.unit.label(class_="control-label font-weight-bold") }}<span
                        class='textcounter' id="counter3"></span>
                    {{ form_basket.unit(data_textcounterid="counter3", maxLength=form_basket.unit.validators[1].max, class_="form-control") }}
                </div>
                <div class="form-group shadow-textarea">
                    {{ form_basket.description_ar.label(class_="control-label font-weight-bold") }}<span
                        class='textcounter' id="counter4"></span>
                    {{ form_basket.description_ar(data_textcounterid="counter4", maxLength=form_basket.description_ar.validators[1].max, class_="form-control") }}
                </div>
                <div class="form-group shadow-textarea">
                    {{ form_basket.description_en.label(class_="control-label font-weight-bold") }}<span
                        class='textcounter' id="counter5"></span>
                    {{ form_basket.description_en(data_textcounterid="counter5", maxLength=form_basket.description_en.validators[1].max, class_="form-control") }}
                </div>
                {{ form_basket.submit(class_="btn btn-primary btn-submit btn-lg") }}
            </form>
        </div>
    </div>
{% endblock %}
{% block js %}
    <script type="text/javascript">
        $(function () {
            $('textarea').on("input", function () {
                var maxlength = $(this).attr("maxlength");
                var currentLength = $(this).val().length;
                //if (currentLength >= maxlength) {
                    {#console.log("You have reached the maximum number of characters.");#}
                //} else {
                    {#console.log(maxlength - currentLength + " chars left");#}
               // }
                var counterElement = $(".textcounter#" + $(this).data("textcounterid"));
                counterElement.html(" (" + (maxlength - this.value.length) + "/" + maxlength + ")");
            });
        });
    </script>
{% endblock %}
